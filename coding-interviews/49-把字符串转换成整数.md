# [把字符串转换成整数](https://www.nowcoder.com/practice/1277c681251b4372bdef344468e4f26e?tpId=13&tqId=11202&tPage=3&rp=3&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking)

```c++
class Solution {
public:
    int StrToInt(string str) {
        int n = str.size(), s = 1;
        long long res = 0;
        if(n == 0)
            return 0;
        if(str[0] == '-')
            s = -1;
        for(int i = (str[0] == '-' || str[0] == '+') ? 1 : 0; i < n; i++){
            if(str[i] < '0' || str[i] > '9')
               return 0;
            //0-9的ascii值的后四位就是二进制0-9的表示，所以char[i]-'0' = char[i]& oxf(1111)
            res = res * 10 + (str[i]-'0');
            //res = (res << 1) + (res << 3) + (str[i] & 0xf);
        }
        res *= s;
        if(res >= -2147483648 && res <= 2147483647){
            return res;
        }
        return 0;
    }
};
```

